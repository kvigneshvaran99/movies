{"ast":null,"code":"var _jsxFileName = \"/home/system4/Documents/movies/src/Components/importAPI.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport \"./Components.css\";\nimport Favorite from \"./favourite\";\nimport Wishlist from \"./wishlist\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport SigninModal from \"./signinModal\";\nexport default class ImportAPI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      console.log(event.target.value, event.target.name);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      let _this$state = this.state,\n          url = _this$state.url,\n          usersearch = _this$state.usersearch;\n\n      if (usersearch.length % 3 === 0) {\n        let newurl = url + usersearch;\n        console.log(newurl);\n        axios.get(newurl).then(res => {\n          console.log(res);\n          res.data.results.sort(function (a, b) {\n            return b.popularity - a.popularity;\n          });\n          console.log(res.data.results);\n          this.setState({\n            info: res.data.results\n          });\n          this.setState({\n            page: 1\n          });\n          this.setState({\n            totalPages: res.data.total_pages\n          });\n        });\n      }\n    };\n\n    this.state = {\n      info: [],\n      url: \"https://api.themoviedb.org/3/search/movie?api_key=d272326e467344029e68e3c4ff0b4059&language=en-US&query=\",\n      usersearch: \"\",\n      usersearchcopy: \"\",\n      totalPages: 1,\n      page: 1,\n      fav: [],\n      wishlist: []\n    };\n  }\n\n  search() {\n    let _this$state2 = this.state,\n        url = _this$state2.url,\n        usersearch = _this$state2.usersearch,\n        info = _this$state2.info;\n    let newurl = url + usersearch;\n    console.log(newurl);\n    this.setState({\n      usersearchcopy: usersearch\n    });\n    this.setState({\n      usersearch: \"\"\n    });\n    console.log(this.props.s, \"11111\");\n    axios.get(newurl).then(res => {\n      res.data.results.sort(function (a, b) {\n        return b.popularity - a.popularity;\n      });\n      this.setState({\n        info: res.data.results\n      });\n      this.setState({\n        page: 1\n      });\n      this.setState({\n        totalPages: res.data.total_pages\n      });\n    });\n  }\n\n  componentDidMount() {\n    axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=d272326e467344029e68e3c4ff0b4059&language=en-US&query=nan\").then(res => {\n      console.log(res.data.results);\n      res.data.results.sort(function (a, b) {\n        return b.popularity - a.popularity;\n      });\n      this.setState({\n        info: res.data.results\n      });\n    });\n  }\n\n  favourite(key) {\n    let _this$state3 = this.state,\n        info = _this$state3.info,\n        fav = _this$state3.fav;\n\n    if (fav.length === 0 && JSON.parse(localStorage.getItem(\"FAV\")) == null) {\n      var obj = info[key];\n      fav.push(obj);\n      localStorage.setItem(\"FAV\", JSON.stringify(fav));\n      this.setState({\n        fav\n      });\n    } else {\n      fav.push(info[key]);\n      localStorage.setItem(\"FAV\", JSON.stringify(fav));\n      this.setState({\n        fav\n      });\n    }\n  }\n\n  wishList(key) {\n    let _this$state4 = this.state,\n        info = _this$state4.info,\n        wishlist = _this$state4.wishlist;\n\n    if (wishlist.length === 0 && JSON.parse(localStorage.getItem(\"WISHLIST\")) == null) {\n      var obj = info[key];\n      wishlist.push(obj);\n      localStorage.setItem(\"WISHLIST\", JSON.stringify(wishlist));\n      this.setState({\n        wishlist\n      });\n    } else {\n      wishlist.push(info[key]);\n      localStorage.setItem(\"WISHLIST\", JSON.stringify(wishlist));\n      this.setState({\n        wishlist\n      });\n    }\n  }\n\n  renderAll(val) {\n    console.log(val);\n    return React.createElement(\"div\", {\n      id: \"wholeBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, val.map((singleObj, key) => {\n      let imgaddress;\n\n      if (singleObj.poster_path !== null) {\n        imgaddress = \"http://image.tmdb.org/t/p/w185/\" + singleObj.poster_path;\n      } else {\n        imgaddress = \"https://s3.us-east-2.amazonaws.com/shdhs.org/2018/01/No-image-available.jpg\";\n      }\n\n      return React.createElement(\"div\", {\n        id: \"singleBlock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"imgId\",\n        src: imgaddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        id: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, singleObj.original_title), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"IMDb ratings:\", singleObj.vote_average), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Release Date:\", singleObj.release_date)), React.createElement(\"p\", {\n        id: \"despId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, singleObj.overview), React.createElement(\"button\", {\n        id: key,\n        onClick: () => this.favourite(key),\n        style: {\n          marginLeft: \"90px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \" \", React.createElement(\"img\", {\n        src: \"https://img.icons8.com/flat_round/64/000000/hearts.png\",\n        style: {\n          height: \"30px\",\n          width: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        id: key,\n        onClick: () => this.wishList(key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://img.icons8.com/color/48/000000/wish-list.png\",\n        style: {\n          height: \"30px\",\n          width: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }));\n    }));\n  }\n\n  pageSwitch(switchPage) {\n    let _this$state5 = this.state,\n        totalPages = _this$state5.totalPages,\n        page = _this$state5.page,\n        url = _this$state5.url,\n        usersearchcopy = _this$state5.usersearchcopy;\n\n    if (page <= totalPages && page >= 1) {\n      if (switchPage === 1) {\n        if (page !== 1) {\n          page--;\n        }\n\n        this.setState({\n          page\n        });\n      } else {\n        if (page !== totalPages) {\n          page++;\n        }\n\n        this.setState({\n          page\n        });\n      }\n    }\n\n    let newPage = \"&page=\" + page;\n    let newurl = url + usersearchcopy + newPage;\n    axios.get(newurl).then(res => {\n      console.log(res);\n      this.setState({\n        info: res.data.results\n      });\n    });\n  }\n\n  pageRender() {\n    return React.createElement(\"div\", {\n      id: \"switchPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"prevBtn\",\n      onClick: () => this.pageSwitch(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Previous Page\"), React.createElement(\"p\", {\n      id: \"pageCount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \" [....Page:\", this.state.page, \"..of..\", this.state.totalPages, \"....]\"), React.createElement(\"button\", {\n      onClick: () => this.pageSwitch(2),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Next Page\"));\n  }\n\n  norender() {\n    let _this$state6 = this.state,\n        totalPages = _this$state6.totalPages,\n        info = _this$state6.info;\n\n    if (info.length === 0) {\n      return React.createElement(\"div\", {\n        id: \"noResult\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"No Results Found\"));\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"searchId2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), \"Page results:\", this.state.info.length))), this.pageRender(), React.createElement(\"div\", {\n      id: \"searchBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"searchId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Search here:-\"), React.createElement(\"input\", {\n      id: \"searchInp\",\n      name: \"usersearch\",\n      onChange: event => this.handleChange(event),\n      value: this.state.usersearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.search(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        marginLeft: \"39%\",\n        marginBottom: \"40px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Home\")), React.createElement(Link, {\n      to: \"/favourites\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Favorites\")), React.createElement(Link, {\n      to: \"/wishlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Wishlist\")), React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => this.renderAll(this.state.info),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/favourites\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Favorite, {\n      a: this.renderAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/wishlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Wishlist, {\n      b: this.renderAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(SigninModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/system4/Documents/movies/src/Components/importAPI.js"],"names":["React","Component","axios","Favorite","Wishlist","BrowserRouter","Router","Route","Link","SigninModal","ImportAPI","constructor","props","handleChange","event","console","log","target","value","name","setState","state","url","usersearch","length","newurl","get","then","res","data","results","sort","a","b","popularity","info","page","totalPages","total_pages","usersearchcopy","fav","wishlist","search","s","componentDidMount","favourite","key","JSON","parse","localStorage","getItem","obj","push","setItem","stringify","wishList","renderAll","val","map","singleObj","imgaddress","poster_path","original_title","vote_average","release_date","overview","marginLeft","height","width","pageSwitch","switchPage","newPage","pageRender","norender","render","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport \"./Components.css\";\nimport Favorite from \"./favourite\";\nimport Wishlist from \"./wishlist\";\nimport {BrowserRouter as Router,Route,Link} from \"react-router-dom\";\nimport SigninModal from  \"./signinModal\";\n\nexport default class ImportAPI extends Component {\n        constructor(props){\n            super(props);\n            this.state={\n                info:[],\n                url:\"https://api.themoviedb.org/3/search/movie?api_key=d272326e467344029e68e3c4ff0b4059&language=en-US&query=\",\n                usersearch:\"\",\n                usersearchcopy:\"\",\n                totalPages:1,\n                page:1,\n                fav:[],\n                wishlist:[]\n            }\n        }\n\nhandleChange = (event) =>{\n console.log(event.target.value , event.target.name)\nthis.setState({[event.target.name] : event.target.value})\n \n     let{url,usersearch}=this.state;\n    if(usersearch.length%3===0)\n    {\n     let newurl=url+usersearch;\n     console.log(newurl) \n     axios.get(newurl)\n     .then(res=>{\n         console.log(res);\n \n         res.data.results.sort(function(a, b){\n            return b.popularity-a.popularity\n        })\n        console.log(res.data.results);\n         this.setState({info:res.data.results})\n         this.setState({page:1});\n         this.setState({totalPages:res.data.total_pages})\n     })}\n }\n\n search(){\n     let{url,usersearch,info}=this.state;\n     let newurl=url+usersearch;\n     console.log(newurl) \n     this.setState({usersearchcopy:usersearch});\n     this.setState({usersearch:\"\"}) \n     console.log(this.props.s,\"11111\")\n\n     axios.get(newurl)\n     .then(res=>{\n         \n         res.data.results.sort(function(a, b){\n            return b.popularity-a.popularity\n        })\n        \n         this.setState({info:res.data.results})\n         this.setState({page:1});\n         this.setState({totalPages:res.data.total_pages})\n     })\n }\n\ncomponentDidMount(){    \n        axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=d272326e467344029e68e3c4ff0b4059&language=en-US&query=nan\")\n         .then(res=>{\n             console.log(res.data.results);\n            res.data.results.sort(function(a, b){\n                return b.popularity-a.popularity\n            })\n          \n        this.setState({info:res.data.results})\n\n    })\n}\nfavourite(key)\n{\n    let {info,fav}=this.state;\n    if(fav.length===0&&(JSON.parse(localStorage.getItem(\"FAV\"))==null))\n    {  \n        var obj=info[key];\n       fav.push(obj);\n       localStorage.setItem(\"FAV\",JSON.stringify( fav));\n       this.setState({fav});\n    }\n    else{  \n        fav.push(info[key]);\n        localStorage.setItem(\"FAV\",JSON.stringify( fav));\n        this.setState({fav});\n    }\n}\nwishList(key)\n{\n    let {info,wishlist}=this.state;\n    if(wishlist.length===0&&(JSON.parse(localStorage.getItem(\"WISHLIST\"))==null)){\n       var obj=info[key];\n       wishlist.push(obj);\n       localStorage.setItem(\"WISHLIST\",JSON.stringify(wishlist));\n       this.setState({wishlist});\n    }\n    else{  \n        wishlist.push(info[key]);\n        localStorage.setItem(\"WISHLIST\",JSON.stringify(wishlist));\n        this.setState({wishlist});\n    }\n}\nrenderAll(val)\n{\n    console.log(val);\n    return(\n       \n        <div id=\"wholeBody\">\n            \n        {val.map((singleObj,key)=>{\n            let imgaddress;\n            if(singleObj.poster_path!==null)\n            {\n            imgaddress=\"http://image.tmdb.org/t/p/w185/\"+singleObj.poster_path;\n            }\n            else{\n                imgaddress=\"https://s3.us-east-2.amazonaws.com/shdhs.org/2018/01/No-image-available.jpg\";\n            }\n            return(\n                <div id=\"singleBlock\">\n                    <br></br>\n                    <center><img id=\"imgId\" src={imgaddress}/>\n                    <h3 id=\"title\">{singleObj.original_title}</h3>\n                    <h4>IMDb ratings:{singleObj.vote_average}</h4>\n                    <h5>Release Date:{singleObj.release_date}</h5></center>\n                    <p id=\"despId\">{singleObj.overview}</p>\n                   <button id={key} onClick={()=>this.favourite(key)} style={{marginLeft:\"90px\"}}> <img src=\"https://img.icons8.com/flat_round/64/000000/hearts.png\" style={{height:\"30px\",width:\"30px\"}}></img></button>\n                    <button id={key} onClick={()=>this.wishList(key)}><img src=\"https://img.icons8.com/color/48/000000/wish-list.png\" style={{height:\"30px\",width:\"30px\"}}></img></button>\n                    \n            <p></p>\n                </div>\n            )\n        })}\n\n        </div>\n    )\n}\npageSwitch(switchPage)\n{\n   let{totalPages,page,url,usersearchcopy}=this.state;\n   if(page<=totalPages&&page>=1)\n   {\n       if(switchPage===1)\n       {\n        if(page!==1){\n           page--;\n          }\n          this.setState({page})\n       }\n       else\n       {\n           if(page!==totalPages)\n           {\n          page++;\n           }\n          this.setState({page});\n       }\n    }\n    let newPage=\"&page=\"+page;\n    let newurl=url+usersearchcopy+newPage;\n    axios.get(newurl)\n    .then(res=>{\n        console.log(res);\n        this.setState({info:res.data.results})\n    })\n}\npageRender()\n{\n    return(\n        <div id=\"switchPage\">\n            \n             <button id=\"prevBtn\" onClick={()=>this.pageSwitch(1)}>Previous Page</button>\n             <p id=\"pageCount\"> [....Page:{this.state.page}..of..{this.state.totalPages}....]</p>\n             <button onClick={()=>this.pageSwitch(2)}>Next Page</button>\n            \n        </div>\n    )\n}\nnorender()\n{\n    let{totalPages,info}=this.state;\n    if(info.length===0)\n    {\n        return(\n            <div id=\"noResult\"><h2>No Results Found</h2></div>\n        )\n    }\n}\n\nrender() {    \n        console.log(this.state)\n        return (\n            <div>\n                 \n            <div id=\"content\">\n                 <h2 id=\"searchId2\"><u><center><p></p>Page results:{this.state.info.length}</center></u></h2>\n                 {this.pageRender()}\n              \n\n                <div id=\"searchBox\">\n                <p id=\"searchId\">Search here:-</p><input id=\"searchInp\" name=\"usersearch\" onChange = {(event)=>this.handleChange(event) }value={this.state.usersearch}></input>\n                <button onClick={()=>this.search()}>Submit</button>\n                </div>\n                <Router >\n                <Link to=\"/\"><button style={{marginLeft:\"39%\",marginBottom:\"40px\"}}>Home</button></Link>\n                <Link to=\"/favourites\"><button>Favorites</button></Link>\n                <Link to=\"/wishlist\"><button>Wishlist</button></Link>\n\n                <Route path=\"/\" exact render={()=>this.renderAll(this.state.info)} ></Route>\n                <Route path=\"/favourites\"><Favorite a={this.renderAll}/></Route>\n                <Route path=\"/wishlist\"><Wishlist b={this.renderAll}/></Route>\n                </Router>\n\n                </div>\n                <div>\n                \n              \n                \n                <SigninModal/>\n\n            </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}